// Project image
@media all and (min-width: 498px) {
  .field-name-field-project-images {
    clear: right;
    float: right;
  }
}

.field-name-field-project-images {
  margin: 0 0 0.692em 20px;
  .node-form & {
    margin-left: 0;
    clear: none;
    float: none;
  }
}

.node .field-name-field-supporting-organizations {
  .field-collection-item-field-supporting-organizations {
    margin-bottom: .4615em; // 6px
  }
  .field-name-field-supporting-organization {
    float: left;
    padding-right: 0.5em;
  }
}

// Project links at the bottom
.node-project-module ul.links {
  margin: 1em 0;
}

// Project Releases Tables
.view-project-release-download-table {
  table {
    width: 100%;
  }

  .views-field-field-release-version {
    width: 35%;
  }
  .views-field-extension {
    width: 45%;
  }
  .views-field-timestamp {
    width: 20%;
  }

  td {
    border: 0;
  }

  &.view-display-id-recommended > .view-content tbody tr {
    background-color: $new-lt-yellow;

    .views-field-field-release-version img {
      filter: opacity(.5) drop-shadow(0 0 0 $new-yellow) brightness(2);
    }

    &.recommended-yes.security-covered {
      background-color: lighten($new-green, 40%);
      .views-field-field-release-version img {
        filter: opacity(.5) drop-shadow(0 0 0 $new-green) brightness(2);
      }
    }
  }
  .view-display-id-security tbody tr {
    background-color: lighten($strong-red, 50%);

    .views-field-field-release-version img {
      filter: opacity(.5) drop-shadow(0 0 0 $strong-red) brightness(2);
    }
  }

  div.warning {
    margin: 0;
  }

  // Stable release shield
  .views-field-field-release-version img {
    height: (18em / 13);
    margin: -1em 0 -.3em .5em;
  }
}

#mini-panel-download_table {
  .panel-pane {
    clear: both;
    margin-bottom: 1em;
  }
  .views-row {
    clear: both;
    margin-bottom: 2em;
    overflow: auto;
  }
  .release-date {
    display: block;
    margin-top: 0.5em;
  }
  .views-field-timestamp {
    float: left;
  }
  .views-field-field-release-short-description {
    width: 100%;
    @include breakpoint($medium) {
      float: right;
      width: 60%;
    }
  }
  .pane-project-downloads-recommended {
    .views-field-field-release-version {
      float: left;
      display: block;
      width: 100%;
      @include breakpoint($medium) {
        width: 40%;
        padding-right: 2%;
      }
      text-align: center;
      h4 {
        font-size: 1.2em;
        margin: 0;
      }
      a {
        background-color: nth($blues,1);
        color: $white;
        margin-bottom: 1em;
        padding: 1.25em 1.5em;
        width: 100%;
        display: block;
        &:hover, &:focus {
          background-color: nth($blues,2);
          text-decoration: none;
        }
      }
      .release-date {
        color: $light-grey;
        font-size: 0.95em;
      }
    }
  }
  .panel-pane {
    .release-date {
      color: $dark-grey;
    }
    .views-field-field-release-version {
      a {
        &:hover, &:focus {
          text-decoration: none;
        }
      }
    }
  }
}

// Star & subscribe.
#sidebar-first #block-drupalorg-project-follow {
  background: $white;
  .block-inner {
    padding: 0;
  }
}

#block-drupalorg-project-follow {
  @include smaller;

  .content > span {
    border: 1px solid $new-gray;
    border-radius: 4px;
    display: inline-block;
    padding: 0 0 0 .4em;

    a, span {
      display: inline-block;
    }

    a {
      color: $new-dk-gray;
      padding: 4px .5em 4px 2em;
    }

    .flag-link-toggle,
    .log-in-to-star {
      background: url(../images/icon-dk-gray-star-fill.svg) transparent left center / 1.5em no-repeat;

      &.unflag-action {
        background-image: url(../images/icon-green-star-fill.svg);
      }
    }

    .flag-throbber {
      width: 0;
    }

    .count {
      background: $new-lt-gray;
      border-radius: 0 3px 3px 0;
      padding: 4px .5em;
    }

    .mail {
      background: url(../images/icon-dk-gray-mail.svg) transparent -.4em center / 2.5em no-repeat;
    }
  }
}

// Maintainers block
#block-versioncontrol-project-project-maintainers {
  div.vc-commit-times {
    color: $dark-grey;
    font-size: 0.92307em; // 0.92307 * 13px = 12px
    margin-bottom: 0.5em;
  }

  span.vc-commits {
    white-space: nowrap;
  }
}

// Issue cockpit block
.block-project-issue, #homebox .block-project_issue { // Homebox uses an underscore.
  // Search issues
  .form-item {
    display: inline;
    padding-right: 0.5em;
  }
  form a {
    display: block;
  }

  // Header styling
  h3 {
    color: nth($greys, 1);
    font-weight: normal;
    margin-bottom: 0;
  }

  // Sparklines
  .metric-label {
    display: inline-block;
    width: 7.6em;
    text-align: right;
  }
}
